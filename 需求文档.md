# 《日常教练》需求规格说明书

---

## 一、概述（为什么做）

### 1.1 背景介绍

现代职场人和学生普遍面临以下问题：

- **作息不规律**：熬夜、睡眠不足，影响第二天状态与长期健康；
- **饮食失衡**：外卖、聚餐频繁，热量摄入超标但缺乏直观感知；
- **运动难以坚持**：有心运动，但缺乏持续的记录与反馈激励；
- **工作节奏混乱**：任务多、干扰多，缺乏每日总结与反思；
- **自我成长缺乏沉淀**：阅读、学习经常“断更”，收获无法沉淀为长期资产。

市面上已有若干单点工具：

- 运动 App（计步、跑步）、记账 App、TODO App、睡眠 App、读书打卡 App 等，
- 但多数只解决某一维度问题，且**记录成本高**、**数据割裂**、**缺少整体复盘与指导**。

在大模型（LLM）与多模态（图像识别）技术成熟的背景下，有机会：

1. 用自然语言 + 拍照 + 轻交互，显著降低记录成本；
2. 将多维数据统一到一个“人生仪表盘”中；
3. 基于数据 + 主观感受，自动生成**每日复盘**和**明日行动计划**。

因此，“日常教练（Life Coach）”旨在成为用户的**个人生活教练 AI**：陪伴并引导用户在健康、工作与成长上持续改进。

---

### 1.2 产品概述

**产品名称（暂定）：** 日常教练（Life Coach）

**一句话定位：**

用 AI 帮你记录运动、饮食、睡眠、工作和读书，每晚自动生成复盘和明日计划的个人生活教练 App。

**核心能力概述：**

- **多维记录（运动/饮食/睡眠/工作/读书）：**
    - 操作极简：拍照 + 语音/少量文字；
    - AI 解析：运动结构化、饮食识别热量、工作/读书文本结构化。
- **AI 复盘：**
    - 综合当日行为数据 + 用户主观回答；
    - 自动输出“关键词、做得好、可改进、明日建议”等结构化报告。
- **AI 规划：**
    - 在用户目标和最近表现的基础上；
    - 生成可执行的明日健康/工作/阅读安排建议。

**产品形态：**

- 客户端：移动 App（iOS / Android）
- 服务端：业务服务 + 大模型服务（可自建或接入第三方 LLM）
- 模型类型：文本大模型 + 图像识别模型（饮食识别）

---

### 1.3 目标用户

**用户画像 1：健康管理型职场人**

- 25–40 岁，工作强度中高；
- 有减脂/增肌需求，但缺乏持续记录与反馈；
- 已使用或尝试过运动 App / 体重管理工具。

**用户画像 2：效率提升型知识工作者 / 学生**

- 需要分配大量时间在工作/学习/项目上；
- 希望通过“每日复盘 + 明日规划”提升效率；
- 偏理性，乐于使用图表与数据观察趋势。

**用户画像 3：自我成长型用户**

- 有持续阅读/学习的愿望；
- 希望记录读书、学习内容和感悟；
- 关注长期成长轨迹与习惯养成。

**共性特征：**

- 手机重度用户；
- 接受/期待 AI 工具协助；
- 习惯用微信、笔记等零散记录，但希望有更系统的解决方案。

---

### 1.4 名词说明

| 名词 | 说明 |
| --- | --- |
| 日常教练 | 本产品名称，指整套 App 系统 |
| 维度（Dimension） | 指产品关注的五大方面：运动、饮食、睡眠、工作 & 生活、读书 |
| 日志 / DayLog | 某个用户某一天的综合记录，包括所有维度数据和 AI 生成的复盘/计划 |
| 快速记录 | 从首页通过按钮弹出的底部弹窗，支持在 10 秒内完成一次记录 |
| 复盘 | 用户对当日生活/工作/健康进行回顾与总结的过程 |
| 夜间复盘 | 每晚固定时间由 App 发起的复盘流程（包含提问 + AI 报告生成） |
| 明日计划 | 基于复盘和用户目标，由 AI 生成的次日行动建议 |
| 综合评分 | AI 根据多维度数据生成的当日总评分（0–100），反映整体表现 |
| 统计总览 | 按周/月展示用户在各维度上的趋势图表和 AI 总结的页面 |
| 快速弹窗 | 从底部半屏弹出的记录组件（运动/饮食/睡眠/工作/读书） |
| 复盘报告 | AI 根据当日记录 + 用户回答自动生成的结构化分析文档 |

---

### 1.5 角色及权限

当前版本（MVP）主要角色：

1. **普通用户（App 用户）**
    - 权限：
        - 注册、登录、退出登录；
        - 查看/编辑自己的所有记录、复盘、统计数据；
        - 配置个人目标和通知设置；
        - 导出 & 删除自己的数据。
2. **系统管理员（后台，仅在后端运维层）**
    - 不对应 App 前端页面；
    - 权限：
        - 系统配置、模型配置；
        - 监控系统运行状况；
        - 处理异常日志（不直接查看用户隐私内容，或仅在脱敏场景下）。

> 注：MVP 阶段不设计多角色权限管理（如团队/家庭账户），仅有单用户角色逻辑。
> 

---

## 二、产品描述（做什么）

### 2.1 产品需求描述（高层）

**核心需求：**

1. 降低记录门槛
    - 支持通过拍照、语音简述等方式完成记录，避免复杂输入；
    - 系统自动解析并结构化数据，减少用户操作步骤。
2. 提供每日复盘与明日指导
    - 自动汇总当日多维数据；
    - 引导用户回答少量高价值问题；
    - 生成结构化复盘与可执行建议。
3. 以图表方式展示长期趋势
    - 周/月维度展示运动、饮食、睡眠、工作任务完成与阅读情况；
    - AI 提取趋势与模式，辅助用户调整。
4. 保持使用体验轻量
    - 为忙碌用户设计，一天在 App 上停留时间控制在 3–10 分钟；
    - 尽量减少输入字段、减少操作层级与页面跳转。

---

### 2.2 产品整体流程

### 2.2.1 主流程（用户生命周期）

> 【需设计：主流程图-用户从注册到日常使用】
> 
> 
> 建议使用 BPMN / 流程图工具绘制
> 

**文字说明：**

1. 用户下载并打开 App；
2. 若为首次使用：
    - 进入注册/登录流程；
    - 完成基础信息填写与目标设置；
3. 进入首页「今日概览」：
    - 查看当前日期综合情况（首次为缺省状态）；
4. 日常使用：
    - 白天：
        - 通过首页快速按钮记录：运动、饮食、工作、读书；
    - 早晨：
        - 补录前一晚睡眠；
    - 晚上：
        - 进行夜间复盘，生成复盘报告；
5. 定期查看统计总览（周/月）：
    - 查看趋势 & AI 总结；
6. 如需调整目标/通知：
    - 进入「我的」页面进行设置修改。

---

### 2.2.2 子流程

> 【需设计：子流程图-记录饮食】
> 
> 
> 【需设计：子流程图-夜间复盘】
> 
> 【需设计：子流程图-明日计划生成】
> 

**示例 1：记录饮食子流程**

1. 用户在首页点击「饮食拍照」；
2. 选择餐别（早餐/午餐/晚餐/加餐）；
3. 调用相机拍照或从相册选图；
4. 前端上传图片至后端，调用图像识别服务；
5. AI 返回：食物列表 + 估算克数 + 热量；
6. 用户可以：
    - 调整份量 / 修改菜名；
    - 删除错误项或补充新食物；
7. 用户点击「保存」；
8. 系统将记录写入数据库，并更新当日饮食统计。

**示例 2：夜间复盘子流程**

1. 到达用户设定的复盘时间；
2. 系统触发本地通知：「该复盘今天了吗？」；
3. 用户点击通知 → 打开夜间复盘页；
4. 夜间复盘页：
    - 展示今日概览图表 + 一句话总结；
    - 依次引导用户回答 3–5 个问题；
5. 用户点击「生成复盘报告」；
6. 后端调用大模型服务，生成复盘报告 JSON；
7. App 展示复盘报告，可编辑；
8. 用户点击「保存」；
9. 复盘报告保存至当日日志。

**示例 3：明日计划生成子流程**

1. 当用户保存复盘报告后；
2. 系统根据用户目标、今日表现与历史数据；
3. 调用大模型生成「明日计划」：
    - 明日 3 个最重要任务；
    - 明日健康建议（运动/饮食/睡眠）；
    - 明日阅读建议；
4. 用户次日早晨可在首页或通知中查看。

---

### 2.2.3 数据流图（DFD）

> 【需设计：DFD-0级（日常教练）】
> 
> 
> 【需设计：DFD-1级（按维度拆分：运动/饮食/睡眠…）】
> 

**DFD 0 级建议包含的外部实体：**

- 用户（User）
- 大模型服务（LLM Service）
- 图像识别服务（Image Service，可与 LLM 合并）
- 推送服务（Push Service）

**核心数据存储：**

- 用户信息库（User DB）
- 日志库（DayLog DB）
- 配置库（Settings DB）

**数据流简述：**

- 用户输入（文本、图片、语音） → App → 后端 → LLM / Image Service → 结构化结果 → DayLog DB；
- 夜间复盘和统计分析时，后端从 DayLog DB 拉取对应数据 → LLM → 返回总结与建议给 App。

---

### 2.2.4 状态转换图（STD）

> 【需设计：状态图-当日复盘状态】
> 
> 
> 【需设计：状态图-用户登录状态】
> 

**示例：当日复盘状态**

- 状态：
    - 未复盘（NotReviewed）
    - 复盘进行中（InReview）
    - 已生成报告未保存（GeneratedNotSaved）
    - 已复盘（Reviewed）
- 关键事件：
    - 用户点击「开始复盘」；
    - 用户完成问题回答；
    - 系统生成复盘报告；
    - 用户点击保存 / 放弃；
- 状态迁移举例：
    - `NotReviewed` →（开始复盘）→ `InReview`
    - `InReview` →（点击生成报告成功）→ `GeneratedNotSaved`
    - `GeneratedNotSaved` →（保存）→ `Reviewed`
    - 任意状态 →（当日结束未保存）→ 视为 `NotReviewed`/记录为未完成复盘。

---

### 2.3 全局说明

### 2.3.1 全局异常处理

- **网络异常：**
    - 前端检测请求失败（超时 / 无网络），统一弹出 Toast：
        - “网络异常，请稍后重试”；
    - 对于记录类操作：
        - 在本地缓存记录，标记为 `pendingSync`，待网络恢复时自动补发；
        - 在 UI 上显示“已离线保存”的提示。
- **后台服务异常（5xx）：**
    - 统一提示：“服务暂时不可用，请稍后重试”；
    - 对关键操作（如复盘生成），可提示“AI 生成功能暂时不可用，可先用文本方式记录”。
- **大模型调用失败：**
    - 对复盘/计划生成：
        - 提供「重试」按钮；
        - 或允许用户仅保存原始回答/数据；
    - 对图像识别失败：
        - 提供“改为手动输入”的流程。
- **数据解析异常：**
    - 如果从后端/模型返回的 JSON 结构字段缺失；
    - 使用默认文案/默认结构，避免应用崩溃。

---

### 2.3.2 普通列表规则

- **时间排序：**
    - 所有按日期的列表（复盘记录、运动记录等）默认按时间倒序排列（最近在上）。
- **分页策略：**
    - 记录列表采用**滚动加载**（infinite scroll），每次加载固定条数（如 20 条）；
    - 避免复杂分页 UI。
- **缺省值：**
    - 对于新用户或无数据时：
        - 使用友好文案 + 引导按钮；
        - 例如：“还没有任何运动记录，点击这里记录你的第一次运动”。
- **统计展示：**
    - 若统计周期内某天无记录，则图表为 0 或留白，图例中明确说明。

---

### 2.3.3 全局交互

- **提示弹窗（Dialog）：**
    - 用于危险操作确认（删除数据）、首次引导、复盘放弃确认等。
- **提示吐司（Toast）：**
    - 用于展示轻量提示（保存成功、网络错误等），一般 1.5–2 秒自动消失。
- **缺省数据展示：**
    - 使用简单插画 + 一句说明 + CTA 按钮。
- **操作弹窗（Bottom Sheet）：**
    - 统一用于快速记录、选择列表（如餐别、书籍选择）；
    - 内部滚动，避免多级跳转。
- **主题与风格：**
    - 整体界面简洁、低打扰，颜色以健康/自然风格（浅色为主）。

---

### 2.4 产品框架（信息架构）

> 【需设计：信息架构图-日常教练】
> 

建议结构：

- 首页（今日概览）
    - 各维度卡片 → 维度详情页
    - 快速记录弹窗（5 类）
    - 夜间复盘入口
- 复盘
    - 夜间复盘页面
    - 复盘列表
    - 复盘详情
- 统计
    - 统计总览
    - 维度详情（运动 / 饮食 / 睡眠 / 工作 / 读书）
- 我的
    - 个人信息
    - 目标设置
    - 通知与复盘设置
    - AI 风格设置
    - 隐私与数据（导出/删除）

---

### 2.5 功能清单

| 模块编号 | 模块名称 | 子功能 | 优先级（P0/P1/P2） |
| --- | --- | --- | --- |
| M1 | 账号模块 | 注册、登录、退出登录 | P0 |
| M2 | 首页 & 快速记录 | 今日概览、维度卡片、快速记录入口、复盘入口 | P0 |
| M3 | 记录模块 | 运动、饮食、睡眠、工作&生活、读书记录 | P0 |
| M4 | 夜间复盘模块 | 今日概览、提问交互、生成并保存复盘报告 | P0 |
| M5 | 明日计划模块 | 基于复盘生成明日计划，并展示 | P1 |
| M6 | 统计模块 | 周/月统计总览、各维度详情、AI 总结 | P0 |
| M7 | 复盘历史 | 复盘列表、复盘详情、编辑、删除 | P1 |
| M8 | 设置模块 | 目标设置、通知设置、AI 风格、隐私管理 | P0 |
| M9 | 数据导出与清理 | 数据导出、数据删除 | P1 |

---

## 三、功能需求（怎么做）

> 本节结合你提供的模板，对关键功能模块按：描述 / 用户故事 / 前后置条件 / 界面交互 / 业务流程 / 异常 / 数据字典 / 验收标准 进行说明。
> 

### 3.1 M1 账号模块（注册 / 登录）

### 3.1.1 描述

提供用户账号体系，支持手机号注册、登录和退出登录。

注册流程可参考你给出的模板示例，略做适配。

### 3.1.2 用户故事

- 作为新用户，我想用手机号快速注册，以便尽快开始记录生活。
- 作为老用户，我想方便地登录账号，以便跨设备同步我的记录数据。

### 3.1.3 前置条件

- 系统接入短信服务或其他验证方式；
- 后端用户数据库可用；
- 用户端已安装 App 并打开注册/登录页面。

### 3.1.4 后置条件

- 注册成功：创建用户记录，自动登录并进入首页；
- 登录成功：恢复与用户绑定的目标设置、历史记录、复盘等数据。

### 3.1.5 界面及交互

参考你原模板中的「注册」「登录」模块描述，这里仅增加产品特有点：

- 注册成功后：
    - 跳转到「基础信息 & 目标设置」向导页；
- 登录成功后：
    - 直接跳转到「首页 - 今日概览」。

> 【需设计：页面-注册】
> 
> 
> 【需设计：页面-登录】
> 

### 3.1.6 业务流程 / 3.1.7 异常 / 3.1.8 数据字典 / 3.1.9 验收标准

可以直接复用你提供的模板中的注册/登录部分（仅更改产品名称），此处不再重复展开。

---

### 3.2 M2 首页 & 快速记录模块

### 3.2.1 描述

首页是用户进入 App 后的主页面，用于展示当天的综合情况，以及提供快速记录入口。

快速记录是通过底部弹窗实现的极简记录方式。

### 3.2.2 用户故事

- 作为用户，我希望一打开就看到今天的整体情况，而不需要在多个页面中来回切换。
- 作为用户，我希望在运动/吃饭/阅读等情境下，用最少的操作快速完成记录。

### 3.2.3 前置条件

- 用户已登录；
- 若为新用户，至少完成基础信息初始化；
- 后端可提供当日已有记录数据（为空时返回缺省）。

### 3.2.4 后置条件

- 用户在首页完成的记录，将写入对应维度的记录表；
- 首页的数值与图表实时更新（或在下一次进入时刷新）。

### 3.2.5 界面及交互

> 【需设计：页面-首页-今日概览】
> 
> 
> 【需设计：组件-快速记录弹窗-运动】
> 
> 【需设计：组件-快速记录弹窗-饮食】
> 
> 【需设计：组件-快速记录弹窗-睡眠】
> 
> 【需设计：组件-快速记录弹窗-工作&生活】
> 
> 【需设计：组件-快速记录弹窗-读书】
> 

**界面元素主要包括：**

1. 顶部栏：头像、日期、入口图标；
2. 今日综合摘要卡片（评分 + 一句话总结）；
3. 各维度卡片（运动/饮食/睡眠/工作/读书）；
4. 快速记录按钮区域（5 个大按钮）；
5. 夜间复盘入口卡片。

交互细节在之前页面级 PRD 已详细说明，可直接使用。

### 3.2.6 业务流程

**示例：从首页快速记录运动**

1. 用户点击首页「运动」按钮；
2. 底部弹出“快速记录 - 运动”弹窗；
3. 用户选择运动类型、时长和可选备注；
4. 点击「保存」；
5. 前端调用后端 API 保存记录；
6. 保存成功后：
    - 关闭弹窗；
    - 首页运动卡片数据刷新（总时长更新）。

### 3.2.7 异常/分支流程

- 保存失败：
    - 如果网络异常 → 本地缓存并提示“已离线保存，将在网络恢复后自动同步”；
    - 如果后端校验失败 → 展示具体错误（例如参数错误）。

### 3.2.8 数据字典（示例：运动记录）

| 字段名 | 类型 | 约束 | 说明 |
| --- | --- | --- | --- |
| `id` | String | 主键 | 记录 ID |
| `userId` | String | 非空 | 用户 ID |
| `date` | Date | 非空 | 自然日 |
| `startTime` | DateTime | 可空 | 开始时间 |
| `durationMin` | Int | 非空，>0 | 运动时长（分钟） |
| `type` | Enum | 非空 | 跑步/力量/骑行等 |
| `distanceKm` | Float | 可空 | 距离（km） |
| `intensity` | Enum | 可空 | 强度 |
| `moodScore` | Int | 1–5，可空 | 主观感受 |
| `note` | String | 可空 | 备注 |

### 3.2.9 验收标准（部分）

- [ ]  打开 App 后默认进入首页；
- [ ]  首页在 2 秒内完成首次数据加载（在正常网络情况下）；
- [ ]  点击任一快速记录按钮，可在 2 步内完成记录提交；
- [ ]  新增记录后，对应维度卡片数据正确更新。

---

### 3.3 M3 记录模块（运动/饮食/睡眠/工作/读书）

> 具体字段与交互已在前面详细写过，这里按模板结构概括统一要求。
> 

### 3.3.1 描述

通过不同的记录通道（快速弹窗 / 详情页），采集用户在五大维度上的数据，并结构化存储，为复盘和统计提供基础。

### 3.3.2 用户故事（示例）

- 作为用户，我希望只要拍照就能记录好今天吃了什么；
- 作为用户，我希望能简单说一句“今天跑了 30 分钟”就能完成运动记录；
- 作为用户，我希望第二天早上能补录昨晚的睡眠情况。

### 3.3.3 前置条件

- 用户已登录；
- 网络正常时，可即时同步数据；网络异常时采用离线缓存。

### 3.3.4 后置条件

- 各维度记录表中新增一条记录；
- 对应 DayLog 当天记录汇总可更新；

### 3.3.5 界面及交互

参见页面级 PRD 中的：

- 快速记录 - 运动 / 饮食 / 睡眠 / 工作&生活 / 读书；
- 各维度详情页（非 MVP 可弱化）。

### 3.3.6 业务流程

- 运动记录：直接写入 `Workout` 表；
- 饮食记录：先上图片 → AI 识别 → 用户确认 → 写入 `Meal` 表；
- 睡眠记录：用户填写时间与评分 → 写入 `Sleep` 表；
- 工作/生活记录：文本写入 `WorkLog`，后台异步解析任务与阻碍；
- 读书记录：记录书籍、时长、摘抄，后台异步生成 `aiSummary`。

### 3.3.7 异常/分支流程

- AI 相关异常时，所有记录都应提供“纯手动模式”；
- 识别失败时，不阻断记录流程，只影响智能分析。

### 3.3.8 数据字典

已在前面部分给出各模块的字段，可在实现时整理成完整表结构文档。

### 3.3.9 验收标准（抽象）

- [ ]  在五大维度上均可完成记录；
- [ ]  AI 识别失败时，用户仍可以通过手动方式完成记录；
- [ ]  记录完毕后，在对应的统计和复盘中能准确体现。

---

### 3.4 M4 夜间复盘模块

### 3.4.1 描述

在每天晚上指定时间，发起引导式复盘流程，帮助用户回顾当天表现，并生成结构化复盘报告。

### 3.4.2 用户故事

- 作为用户，我希望每天晚上有一个固定时间提醒我回顾当天；
- 作为用户，我希望只需回答少量问题，就能得到高质量的复盘结果。

### 3.4.3 前置条件

- 用户已设置夜间复盘时间且开启提醒；
- 当日已有部分行为数据（如果当天完全未记录，也要支持复盘）。

### 3.4.4 后置条件

- 当日 `DayLog` 中 `aiDailySummary` 字段被写入；
- 当日复盘状态从 `未复盘` 变为 `已复盘`；
- 可触发明日计划生成逻辑。

### 3.4.5 界面及交互

> 【需设计：页面-夜间复盘】
> 

已在前面详细给出，含：顶部概览 → 提问 → 生成报告 → 编辑保存。

### 3.4.6 业务流程

1. 到达复盘时间 → App 推送通知；
2. 用户进入夜间复盘页面；
3. 系统拉取当日各维度记录，生成简要概览；
4. 系统展示一系列问题，用户依次作答；
5. 用户点击「生成复盘报告」；
6. 后端将当日数据 + 用户答案 + 用户目标作为 Prompt 调用大模型；
7. 返回结构化 JSON，包含关键词、做得好、可改进、明日建议等；
8. App 渲染报告；
9. 用户可编辑部分内容后点击「保存」；
10. 后端将结果写回当日 `DayLog`。

### 3.4.7 异常/分支流程

- 大模型调用失败：
    - 提示“生成失败，可稍后重试”；
    - 提供：
        - 「保存我的回答，不生成报告」；
        - 「重试生成」。
- 用户中途退出复盘：
    - 保存当前回答草稿，在当日再开启时继续；
    - 若用户主动点击“放弃本次复盘”，需二次确认并清空草稿。

### 3.4.8 数据字典（节选）

| 字段名 | 类型 | 说明 |
| --- | --- | --- |
| `dayLogId` | String | 当日日志 ID |
| `reflectionRawQA` | JSON | 原始问答（问题+答案列表） |
| `aiDailySummary` | JSON | AI 生成的复盘报告结构 |
| `reviewStatus` | Enum | 未复盘/进行中/已复盘 |

### 3.4.9 验收标准

- [ ]  在设定时间，App 能收到夜间复盘提醒；
- [ ]  用户完成回答后，点击生成可以得到结构化报告；
- [ ]  AI 服务异常时，用户仍能保存自己的文字回答；
- [ ]  首页复盘状态能正确显示已复盘/未复盘。

---

### 3.5 M6 统计模块（周/月趋势）

### 3.5.1 描述

以周/月为单位，将五大维度的数据图形化展示，并给出 AI 总结，帮助用户发现趋势和模式。

### 3.5.2 用户故事

- 作为用户，我想知道“最近一周我到底运动了多少”“睡眠有没有改善”等；
- 作为用户，我希望通过 AI 帮我指出显著的好习惯和坏习惯。

### 3.5.3 前置条件

- 用户已积累一定的历史数据；
- 后端有按时间聚合数据的统计 API。

### 3.5.4 后置条件

- 无数据变更，主要为读取流程；
- 用户查看统计后，可能调整目标（与设置模块联动）。

### 3.5.5 界面及交互

> 【需设计：页面-统计总览-周视图】
> 
> 
> 【需设计：页面-统计总览-月视图】
> 
> 【需设计：页面-维度详情-运动/饮食/睡眠/工作/读书】
> 

详见前文：统计总览和维度详情页面描述。

### 3.5.6 业务流程（例：周视图）

1. 用户进入统计模块，默认显示本周；
2. 前端请求后端统计 API，传入时间范围；
3. 后端：
    - 聚合各维度数据；
    - 调用大模型为本周生成自然语言总结；
4. 前端渲染折线/柱状图；
5. 渲染 AI 总结文字。

### 3.5.7 异常/分支流程

- 若时间范围内无记录：
    - 图表显示为 0 或空；
    - AI 总结区域展示默认文案：“本周期暂无记录”。

### 3.5.8 数据字典（节选）

统计结果一般为结构化聚合输出，不详列字段，此处略。

### 3.5.9 验收标准

- [ ]  周视图切换到不同周时，图表的数据变化正确；
- [ ]  月视图展示整月的数据趋势；
- [ ]  AI 总结与图表数据一致，不出现明显矛盾；
- [ ]  无数据时有合理缺省提示。

---

### 3.6 M8 设置模块（目标/通知/隐私）

参照你给的模板结构，这里简述：

- 目标设置：CRUD 用户的健康/阅读/作息目标；
- 通知设置：复盘提醒、早晨提醒等；
- 隐私与数据：导出与删除。

验收标准：

- 目标修改后，首页与统计的目标线随之更新；
- 关闭复盘通知后，不再发送夜间复盘提醒；
- 删除数据后，对应历史记录与统计清空。

---

## 四、非功能需求（注意事项）

### 4.1 性能要求

- 首页加载时间：在正常 4G/Wi-Fi 环境下，冷启动至首页完成首屏数据渲染 ≤ 2 秒；
- 统计页面加载：请求 + 渲染图表 ≤ 3 秒；
- 夜间复盘 AI 生成：在网络正常时，首次生成响应时间建议控制在 3–8 秒之间（如超过 10 秒需给出进度提示或分步提示）。

### 4.2 安全与隐私

- 所有敏感数据（密码、Token）采用 HTTPS 加密传输；
- 密码在服务端加盐哈希存储；
- 提供数据导出与删除功能，明确告知不可恢复；
- 对 AI 服务请求中的个人信息应进行最小化传输（仅必要字段）。

### 4.3 兼容性

- 客户端：
    - iOS：建议支持 iOS 15+；
    - Android：建议支持 Android 8.0+。
- 屏幕适配：
    - 主流尺寸完整适配，避免关键元素被遮挡。

### 4.4 可用性与易用性

- 操作路径尽量控制在 1–3 步内完成；
- 使用统一的 UI 组件与交互规范（弹窗、按钮、输入框等）；
- 提供新手引导（可选），介绍首页与复盘入口。

### 4.5 日志与监控

- 关键操作埋点：
    - 记录模块使用情况；
    - 夜间复盘完成率；
    - 统计页面访问频率等。
- 异常监控：
    - 客户端崩溃日志；
    - 服务端错误日志；
    - AI 调用失败率。

### 4.6 国际化（可选）

- MVP 可仅支持简体中文；
- 预留多语言扩展点（文案统一通过配置管理）。

---

> 以上即为按照你给的模板结构，针对「日常教练」App 生成的完整 PRD 骨架 + 详细内容。你可以：
- 直接复制此 Markdown 作为项目 PRD 初稿；
- 在对应的【需设计：XXX】位置，用最新大模型生成相应的页面/流程/图表设计。
>